package com.vip.apitest.luxury.magento;

import static com.jayway.restassured.RestAssured.given;
import static com.jayway.restassured.module.jsv.JsonSchemaValidator.matchesJsonSchema;
import static org.hamcrest.Matchers.equalTo;
import static com.jayway.restassured.path.json.JsonPath.with;

import java.io.InputStream;

import junit.framework.Assert;

import org.junit.Test;

import com.vip.apitest.luxury.BaseTestCase;
import com.vip.apitest.luxury.common.CommonMethod;

public class OrderListTest extends BaseTestCase{
	private NewOrderTest  order=new NewOrderTest();
	
	/**
	 * 订单查询 正例 
	 * @throws Exception 
	 * 
	 */
	@Test
	public void testGetOrderList() throws Exception{
		CommonMethod.getUidAndToken();
		
		String json=given().
			header("accesstoken",CommonMethod.token).
		when().
			get("http://shop-mapp.vipfashion.com/api/rest/checkout/orders").prettyPrint();

		Assert.assertEquals("1", with(json).getString("code"));
		
	}

}
